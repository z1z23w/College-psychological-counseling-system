{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%AE%9E%E9%AA%8C/my-counseling-app/app/actions.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { prisma } from \"@/lib/db\";\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\n// ==========================================\r\n// 1. Áî®Êà∑ÁÆ°ÁêÜ (ÁÆ°ÁêÜÂëòÁî® - ‰πãÂâç‰∏¢Â§±ÁöÑÈÉ®ÂàÜ)\r\n// ==========================================\r\n\r\nexport async function getUsers() {\r\n  try {\r\n    const users = await prisma.user.findMany({\r\n      orderBy: { createdAt: 'desc' }\r\n    });\r\n    return { success: true, data: users };\r\n  } catch (error) {\r\n    console.error(\"Ëé∑ÂèñÁî®Êà∑Â§±Ë¥•:\", error);\r\n    return { success: false, data: [] };\r\n  }\r\n}\r\n\r\nexport async function createUser(formData: FormData) {\r\n  const name = formData.get(\"name\") as string;\r\n  const username = formData.get(\"username\") as string;\r\n  const role = formData.get(\"role\") as string;\r\n  const college = formData.get(\"college\") as string;\r\n\r\n  try {\r\n    await prisma.user.create({\r\n      data: {\r\n        name,\r\n        username,\r\n        role,\r\n        college,\r\n        password: \"123456\", // ÈªòËÆ§ÂØÜÁ†Å\r\n        avatar: `https://api.dicebear.com/7.x/avataaars/svg?seed=${name}`\r\n      },\r\n    });\r\n    revalidatePath(\"/admin/users\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    return { success: false, error: \"ÂàõÂª∫Â§±Ë¥•ÔºåÂ≠¶Âè∑ÂèØËÉΩÂ∑≤Â≠òÂú®\" };\r\n  }\r\n}\r\n\r\n// ==========================================\r\n// 2. ËÆ§ËØÅ‰∏éÊü•ËØ¢ (ÈÄöÁî®)\r\n// ==========================================\r\n\r\n// ÁôªÂΩïÈ™åËØÅ\r\nexport async function loginAction(username: string, role: string) {\r\n  try {\r\n    const user = await prisma.user.findFirst({\r\n      where: { username, role }\r\n    });\r\n    if (!user) return { success: false, error: \"Áî®Êà∑‰∏çÂ≠òÂú®ÊàñËßíËâ≤ÈîôËØØ\" };\r\n    \r\n    // ËøîÂõûÁî®Êà∑‰ø°ÊÅØÔºà‰∏çÂê´ÂØÜÁ†ÅÔºâ\r\n    const { password, ...userInfo } = user;\r\n    return { success: true, data: userInfo };\r\n  } catch (error) {\r\n    return { success: false, error: \"Êï∞ÊçÆÂ∫ìËøûÊé•Â§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// Ëé∑ÂèñÊâÄÊúâÂí®ËØ¢Â∏à\r\nexport async function getCounselors() {\r\n  return await prisma.user.findMany({\r\n    where: { role: 'counselor' }\r\n  });\r\n}\r\n\r\n// ==========================================\r\n// 3. È¢ÑÁ∫¶Á≥ªÁªü (Appointments)\r\n// ==========================================\r\n\r\n// ÂàõÂª∫È¢ÑÁ∫¶\r\nexport async function createAppointment(studentId: string, counselorId: string, date: string, time: string) {\r\n  try {\r\n    await prisma.appointment.create({\r\n      data: {\r\n        studentId,\r\n        counselorId,\r\n        date: new Date(date),\r\n        time,\r\n        status: 'pending',\r\n        notes: 'Â≠¶ÁîüÂèëËµ∑È¢ÑÁ∫¶'\r\n      }\r\n    });\r\n    revalidatePath(\"/student/booking\");\r\n    revalidatePath(\"/counselor/dashboard\");\r\n    return { success: true };\r\n  } catch (e) {\r\n    return { success: false, error: \"È¢ÑÁ∫¶ÂàõÂª∫Â§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// Ëé∑ÂèñÈ¢ÑÁ∫¶ÂàóË°®\r\nexport async function getAppointments(userId: string, role: string) {\r\n  const whereCondition = role === 'student' ? { studentId: userId } : { counselorId: userId };\r\n  \r\n  const data = await prisma.appointment.findMany({\r\n    where: whereCondition,\r\n    include: {\r\n      student: { select: { name: true } },\r\n      counselor: { select: { name: true } }\r\n    },\r\n    orderBy: { createdAt: 'desc' }\r\n  });\r\n\r\n  return data.map(apt => ({\r\n    ...apt,\r\n    date: apt.date.toISOString(),\r\n    createdAt: apt.createdAt.toISOString()\r\n  }));\r\n}\r\n\r\n// Êõ¥Êñ∞È¢ÑÁ∫¶Áä∂ÊÄÅ\r\nexport async function updateAppointmentStatus(id: string, status: string) {\r\n  await prisma.appointment.update({\r\n    where: { id },\r\n    data: { status }\r\n  });\r\n  revalidatePath(\"/counselor/dashboard\");\r\n  revalidatePath(\"/student/booking\");\r\n  return { success: true };\r\n}\r\n\r\n// ==========================================\r\n// 4. ÊñáÁ´†Á≥ªÁªü (Articles)\r\n// ==========================================\r\n\r\nexport async function getArticles() {\r\n  const articles = await prisma.article.findMany({\r\n    orderBy: { createdAt: 'desc' }\r\n  });\r\n  return articles.map(a => ({\r\n    ...a,\r\n    createdAt: a.createdAt.toISOString()\r\n  }));\r\n}\r\n\r\nexport async function createArticle(data: any) {\r\n  await prisma.article.create({\r\n    data: {\r\n      ...data,\r\n      author: 'ÁÆ°ÁêÜÂëò',\r\n      views: 0,\r\n      image: \"https://images.unsplash.com/photo-1499209974431-2761eb43a768?w=800&q=80\"\r\n    }\r\n  });\r\n  revalidatePath(\"/student/articles\");\r\n  return { success: true };\r\n}\r\n\r\n// ==========================================\r\n// 5. ÊµãËØÑÁ≥ªÁªü (Assessments)\r\n// ==========================================\r\n\r\nexport async function saveAssessment(studentId: string, score: number, result: string) {\r\n  await prisma.assessment.create({\r\n    data: {\r\n      studentId,\r\n      type: 'PHQ-9',\r\n      score,\r\n      result\r\n    }\r\n  });\r\n  revalidatePath(\"/student/assessment\");\r\n  return { success: true };\r\n}\r\n\r\nexport async function getAssessmentHistory(studentId: string) {\r\n  const data = await prisma.assessment.findMany({\r\n    where: { studentId },\r\n    orderBy: { createdAt: 'asc' }\r\n  });\r\n  return data.map(a => ({\r\n    ...a,\r\n    createdAt: a.createdAt.toISOString()\r\n  }));\r\n}\r\n\r\nexport async function deleteArticle(id: string) {\r\n  try {\r\n    await prisma.article.delete({\r\n      where: { id }\r\n    });\r\n    revalidatePath(\"/admin/content\"); // Âà∑Êñ∞ÂêéÂè∞ÂàóË°®\r\n    revalidatePath(\"/student/articles\"); // Âà∑Êñ∞Â≠¶ÁîüÁ´ØÂàóË°®\r\n    return { success: true };\r\n  } catch (error) {\r\n    return { success: false, error: \"Âà†Èô§Â§±Ë¥•\" };\r\n  }\r\n}\r\n\r\nexport async function updateConsultationRecord(id: string, notes: string) {\r\n  try {\r\n    await prisma.appointment.update({\r\n      where: { id },\r\n      data: { \r\n        notes, \r\n        status: 'completed' // ‰øùÂ≠òÂêéËá™Âä®Ê†áËÆ∞‰∏∫‚ÄúÂ∑≤ÂÆåÊàê/ÂæÖÂΩíÊ°£‚Äù\r\n      }\r\n    });\r\n    revalidatePath(\"/counselor/cases\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    console.error(\"Êõ¥Êñ∞ËÆ∞ÂΩïÂ§±Ë¥•:\", error);\r\n    return { success: false, error: \"‰øùÂ≠òÂ§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// Âà†Èô§Áî®Êà∑\r\nexport async function deleteUser(id: string) {\r\n  try {\r\n    await prisma.user.delete({\r\n      where: { id }\r\n    });\r\n    revalidatePath(\"/admin/users\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    return { success: false, error: \"Âà†Èô§Â§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// Êõ¥Êñ∞Áî®Êà∑\r\nexport async function updateUser(id: string, formData: FormData) {\r\n  const name = formData.get(\"name\") as string;\r\n  const username = formData.get(\"username\") as string;\r\n  const role = formData.get(\"role\") as string;\r\n  const college = formData.get(\"college\") as string;\r\n\r\n  try {\r\n    await prisma.user.update({\r\n      where: { id },\r\n      data: {\r\n        name,\r\n        username,\r\n        role,\r\n        college,\r\n      },\r\n    });\r\n    revalidatePath(\"/admin/users\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    return { success: false, error: \"Êõ¥Êñ∞Â§±Ë¥•ÔºåÂ≠¶Âè∑ÂèØËÉΩÂÜ≤Á™Å\" };\r\n  }\r\n}\r\n\r\nexport async function getAdminDashboardStats() {\r\n  //noStore(); // üà≤ Á¶ÅÁî®ÁºìÂ≠òÔºåÁ°Æ‰øùÊï∞ÊçÆÂÆûÊó∂\r\n\r\n  try {\r\n    const [studentCount, appointmentCount, completedCount, rawChartData] = await Promise.all([\r\n      // 1. Ê≥®ÂÜåÂ≠¶ÁîüÊÄªÊï∞\r\n      prisma.user.count({ \r\n        where: { role: 'student' } \r\n      }),\r\n\r\n      // 2. ÊúâÊïàÈ¢ÑÁ∫¶ÊÄªÈáè (ÂÖ≥ÈîÆ‰øÆÊîπÔºÅÔºÅÔºÅ)\r\n      // ‰ª•ÂâçÁªüËÆ°‰∫Ü pendingÔºåÁé∞Âú®Êàë‰ª¨Âè™ÁªüËÆ° 'confirmed' Âíå 'completed'\r\n      // ËøôÊ†∑ÔºöÂ≠¶ÁîüÂàöÁî≥ËØ∑Êó∂(pending)‰∏çÂç†Êï∞ÔºåËÄÅÂ∏àÁÇπ‰∫ÜÂêåÊÑè(confirmed)Êï∞Â≠óÊâç‰ºö +1\r\n      prisma.appointment.count({\r\n        where: {\r\n          status: {\r\n            in: ['confirmed', 'completed'] // ‚úÖ Âè™ÁÆó‚ÄúÂ∑≤Á°ÆËÆ§‚ÄùÂíå‚ÄúÂ∑≤ÂÆåÊàê‚ÄùÁöÑ\r\n          }\r\n        }\r\n      }),\r\n\r\n      // 3. Â∑≤ÂÆåÊàêÈ¢ÑÁ∫¶\r\n      prisma.appointment.count({ \r\n        where: { status: 'completed' } \r\n      }),\r\n\r\n      // 4. ÂõæË°®Êï∞ÊçÆÊ∫ê (ÂêåÊ†∑Âè™ÁªüËÆ°ÊúâÊïàÁöÑ)\r\n      prisma.appointment.findMany({\r\n        where: {\r\n          date: {\r\n            gte: new Date(new Date().setDate(new Date().getDate() - 6))\r\n          },\r\n          status: {\r\n            in: ['confirmed', 'completed'] // ‚úÖ ÂõæË°®‰πüÂè™ÊòæÁ§∫ËÄÅÂ∏àÊé•ÂçïÂêéÁöÑ\r\n          }\r\n        },\r\n        select: { date: true }\r\n      })\r\n    ]);\r\n\r\n    // Âç±Êú∫Âπ≤È¢ÑÁªüËÆ° (È¢ÑÁïô)\r\n    let crisisCount = 0;\r\n\r\n    // ËÆ°ÁÆóÁªìÊ°àÁéá\r\n    const completionRate = appointmentCount > 0 \r\n      ? Math.round((completedCount / appointmentCount) * 100) + \"%\" \r\n      : \"0%\";\r\n\r\n    // ÁîüÊàêÂõæË°®Êï∞ÊçÆ\r\n    const chartData = [];\r\n    const weekMap = ['Âë®Êó•', 'Âë®‰∏Ä', 'Âë®‰∫å', 'Âë®‰∏â', 'Âë®Âõõ', 'Âë®‰∫î', 'Âë®ÂÖ≠'];\r\n\r\n    for (let i = 6; i >= 0; i--) {\r\n      const d = new Date();\r\n      d.setDate(d.getDate() - i);\r\n      const month = d.getMonth() + 1;\r\n      const day = d.getDate();\r\n      const dateKey = `${month}/${day}`;\r\n      const weekLabel = weekMap[d.getDay()];\r\n\r\n      const count = rawChartData.filter(apt => {\r\n        const aptDate = new Date(apt.date);\r\n        return aptDate.getDate() === day && aptDate.getMonth() + 1 === month;\r\n      }).length;\r\n\r\n      chartData.push({ \r\n        name: dateKey, \r\n        day: weekLabel, \r\n        visits: count \r\n      });\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      data: {\r\n        stats: {\r\n          students: studentCount,\r\n          appointments: appointmentCount, // ËøôÈáåÁé∞Âú®ÊòæÁ§∫ÁöÑÊòØ‚ÄúÁîüÊïàÈ¢ÑÁ∫¶Êï∞‚Äù\r\n          crisis: crisisCount,\r\n          rate: completionRate\r\n        },\r\n        chart: chartData\r\n      }\r\n    };\r\n\r\n  } catch (error) {\r\n    console.error(\"Ëé∑ÂèñÁúãÊùøÊï∞ÊçÆÂ§±Ë¥•:\", error);\r\n    return { success: false, error: \"Âä†ËΩΩÂ§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// Ëé∑ÂèñÁ≥ªÁªüÈÖçÁΩÆ (Â¶ÇÊûúÊ≤°ÊúâÂàôÂàõÂª∫ÈªòËÆ§)\r\nexport async function getSystemSettings() {\r\n  try {\r\n    let config = await prisma.systemConfig.findFirst();\r\n    if (!config) {\r\n      config = await prisma.systemConfig.create({\r\n        data: {} // ‰ΩøÁî®ÈªòËÆ§ÂÄºÂàõÂª∫\r\n      });\r\n    }\r\n    return { success: true, data: config };\r\n  } catch (error) {\r\n    return { success: false, error: \"Ëé∑ÂèñÈÖçÁΩÆÂ§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// Êõ¥Êñ∞Á≥ªÁªüÈÖçÁΩÆ\r\nexport async function updateSystemSettings(data: any) {\r\n  try {\r\n    // ÂÖàÊâæÂà∞Á¨¨‰∏ÄÊù°ËÆ∞ÂΩïÁöÑ ID\r\n    const first = await prisma.systemConfig.findFirst();\r\n    \r\n    if (first) {\r\n      await prisma.systemConfig.update({\r\n        where: { id: first.id },\r\n        data: {\r\n          platformName: data.platformName,\r\n          hotline: data.hotline,\r\n          openHours: data.openHours,\r\n          maintenanceMode: data.maintenanceMode === 'true' || data.maintenanceMode === true\r\n        }\r\n      });\r\n      return { success: true };\r\n    }\r\n    return { success: false, error: \"Êú™ÊâæÂà∞ÈÖçÁΩÆËÆ∞ÂΩï\" };\r\n  } catch (error) {\r\n    console.error(error);\r\n    return { success: false, error: \"‰øùÂ≠òÂ§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// 1. Ëé∑ÂèñËÅäÂ§©ËÅîÁ≥ª‰∫∫ÂàóË°®\r\nexport async function getChatContacts(currentUserId: string, role: string) {\r\n  try {\r\n    if (role === 'student') {\r\n      // Â¶ÇÊûúÊòØÂ≠¶ÁîüÔºåËøîÂõûÊâÄÊúâÂí®ËØ¢Â∏à\r\n      const counselors = await prisma.user.findMany({\r\n        where: { role: 'counselor' },\r\n        select: { id: true, name: true, avatar: true, college: true }\r\n      });\r\n      return { success: true, data: counselors };\r\n    } else {\r\n      // Â¶ÇÊûúÊòØÂí®ËØ¢Â∏àÔºåËøîÂõûÁªôÂèëËøáÊ∂àÊÅØÁöÑÂ≠¶ÁîüÔºàËøôÈáåÁÆÄÂåñÈÄªËæëÔºöËøîÂõûÊâÄÊúâÂ≠¶ÁîüÔºåÊàñËÄÖ‰Ω†ÂèØ‰ª•ÂÅöÊõ¥Â§çÊùÇÁöÑÊü•ËØ¢Ôºâ\r\n      // ‰∏∫‰∫ÜÊºîÁ§∫Êñπ‰æøÔºåÊàë‰ª¨ÊöÇÊó∂ËøîÂõûÊâÄÊúâÂ≠¶ÁîüÔºåÂÆûÈôÖÈ°πÁõÆ‰∏≠Â∫îËØ•Âè™ËøîÂõûÊúâÈ¢ÑÁ∫¶ÊàñËÅäËøáÁöÑ\r\n      const students = await prisma.user.findMany({\r\n        where: { role: 'student' },\r\n        select: { id: true, name: true, avatar: true, college: true }\r\n      });\r\n      return { success: true, data: students };\r\n    }\r\n  } catch (error) {\r\n    return { success: false, data: [] };\r\n  }\r\n}\r\n\r\n// 2. Ëé∑ÂèñÊàëÂíåÊüê‰∫∫ÁöÑËÅäÂ§©ËÆ∞ÂΩï\r\nexport async function getMessages(userId1: string, userId2: string) {\r\n  try {\r\n    const messages = await prisma.message.findMany({\r\n      where: {\r\n        OR: [\r\n          { senderId: userId1, receiverId: userId2 },\r\n          { senderId: userId2, receiverId: userId1 }\r\n        ]\r\n      },\r\n      orderBy: { createdAt: 'asc' }, // ÊåâÊó∂Èó¥Ê≠£Â∫èÊéíÂàó\r\n      include: {\r\n        sender: { select: { name: true, avatar: true } }\r\n      }\r\n    });\r\n    return { success: true, data: messages };\r\n  } catch (error) {\r\n    return { success: false, data: [] };\r\n  }\r\n}\r\n\r\n// 3. ÂèëÈÄÅÊ∂àÊÅØ\r\nexport async function sendMessage(senderId: string, receiverId: string, content: string) {\r\n  try {\r\n    const message = await prisma.message.create({\r\n      data: {\r\n        senderId,\r\n        receiverId,\r\n        content\r\n      }\r\n    });\r\n    // Ê≥®ÊÑèÔºöËÅäÂ§©ÈÄöÂ∏∏‰∏çÈúÄË¶Å revalidatePathÔºåÂõ†‰∏∫ÊòØÂç≥Êó∂Êõ¥Êñ∞Áä∂ÊÄÅ\r\n    return { success: true, data: message };\r\n  } catch (error) {\r\n    return { success: false, error: \"ÂèëÈÄÅÂ§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// 1. Ëé∑ÂèñÊüê‰ΩçÂí®ËØ¢Â∏àÁöÑÊéíÁè≠\r\nexport async function getCounselorSchedule(counselorId: string) {\r\n  try {\r\n    const schedules = await prisma.schedule.findMany({\r\n      where: { counselorId, isAvailable: true }\r\n    });\r\n    return { success: true, data: schedules };\r\n  } catch (error) {\r\n    return { success: false, data: [] };\r\n  }\r\n}\r\n\r\n// 2. ÊâπÈáèÊõ¥Êñ∞ÊéíÁè≠ (Âí®ËØ¢Â∏àÁ´Ø‰ΩøÁî®)\r\n// slots Ê†ºÂºèÔºö[{ dayOfWeek: 1, timeSlot: \"08:30 - 09:20\", isAvailable: true }, ...]\r\nexport async function updateSchedule(counselorId: string, slots: any[]) {\r\n  try {\r\n    // ‰ΩøÁî®‰∫ãÂä°ÔºåÂÖàÂà†ÂêéÂä†ÔºåÊàñËÄÖÈÄê‰∏™ upsert\r\n    // ÁÆÄÂçïËµ∑ËßÅÔºåÊàë‰ª¨‰ΩøÁî® transaction ÈÄê‰∏™ upsert\r\n    const ops = slots.map(slot => \r\n      prisma.schedule.upsert({\r\n        where: {\r\n          counselorId_dayOfWeek_timeSlot: {\r\n            counselorId,\r\n            dayOfWeek: slot.dayOfWeek,\r\n            timeSlot: slot.timeSlot\r\n          }\r\n        },\r\n        update: { isAvailable: slot.isAvailable },\r\n        create: {\r\n          counselorId,\r\n          dayOfWeek: slot.dayOfWeek,\r\n          timeSlot: slot.timeSlot,\r\n          isAvailable: slot.isAvailable\r\n        }\r\n      })\r\n    );\r\n    \r\n    await prisma.$transaction(ops);\r\n    return { success: true };\r\n  } catch (error) {\r\n    console.error(error);\r\n    return { success: false, error: \"‰øùÂ≠òÂ§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// Ê†πÊçÆ ID Ëé∑ÂèñÂçïÁØáÊñáÁ´†ËØ¶ÊÉÖ\r\nexport async function getArticleById(id: string) {\r\n  try {\r\n    const article = await prisma.article.findUnique({\r\n      where: { id: id }\r\n    });\r\n    \r\n    if (article) {\r\n      return { success: true, data: article };\r\n    }\r\n    return { success: false, error: \"ÊñáÁ´†Êú™ÊâæÂà∞\" };\r\n  } catch (error) {\r\n    console.error(error);\r\n    return { success: false, error: \"Êü•ËØ¢Â§±Ë¥•\" };\r\n  }\r\n}"],"names":[],"mappings":";;;;;;;IAkDsB,cAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///D:/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%AE%9E%E9%AA%8C/my-counseling-app/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///D:/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%AE%9E%E9%AA%8C/my-counseling-app/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":["file:///D:/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%AE%9E%E9%AA%8C/my-counseling-app/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn(\"flex flex-col gap-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn(\"flex-1 outline-none\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6LAAC,2KAAkB;QACjB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6LAAC,2KAAkB;QACjB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///D:/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%AE%9E%E9%AA%8C/my-counseling-app/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = \"default\",\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: \"sm\" | \"default\"\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = \"item-aligned\",\n  align = \"center\",\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md\",\n          position === \"popper\" &&\n            \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n          className\n        )}\n        position={position}\n        align={align}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            \"p-1\",\n            position === \"popper\" &&\n              \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1\"\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn(\"text-muted-foreground px-2 py-1.5 text-xs\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className\n      )}\n      {...props}\n    >\n      <span\n        data-slot=\"select-item-indicator\"\n        className=\"absolute right-2 flex size-3.5 items-center justify-center\"\n      >\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn(\"bg-border pointer-events-none -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6LAAC,6KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,6LAAC,gLAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,qHAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,6KAAoB;gBAAC,OAAO;0BAC3B,cAAA,6LAAC,8OAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;MAxBS;AA0BT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,cAAc,EACzB,QAAQ,QAAQ,EAChB,GAAG,OACkD;IACrD,qBACE,6LAAC,+KAAsB;kBACrB,cAAA,6LAAC,gLAAuB;YACtB,aAAU;YACV,WAAW,IAAA,qHAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACV,OAAO;YACN,GAAG,KAAK;;8BAET,6LAAC;;;;;8BACD,6LAAC,iLAAwB;oBACvB,WAAW,IAAA,qHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,6LAAC;;;;;;;;;;;;;;;;AAIT;MAnCS;AAqCT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,6LAAC,6KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBACC,aAAU;gBACV,WAAU;0BAEV,cAAA,6LAAC,sLAA6B;8BAC5B,cAAA,6LAAC,wNAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,6LAAC,iLAAwB;0BAAE;;;;;;;;;;;;AAGjC;MAzBS;AA2BT,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,6LAAC,kLAAyB;QACxB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,6LAAC,uLAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,wOAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;MAhBS;AAkBT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,6LAAC,yLAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,8OAAe;YAAC,WAAU;;;;;;;;;;;AAGjC;MAhBS"}},
    {"offset": {"line": 507, "column": 0}, "map": {"version":3,"sources":["file:///D:/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%AE%9E%E9%AA%8C/my-counseling-app/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,6LAAC,4KAAmB;QAClB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 540, "column": 0}, "map": {"version":3,"sources":["file:///D:/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%AE%9E%E9%AA%8C/my-counseling-app/app/auth/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAppStore } from '@/lib/store';\r\nimport { loginAction } from '@/app/actions'; // ‚úÖ ÂºïÂÖ•ÂêéÁ´ØÈ™åËØÅ\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle, CardFooter } from '@/components/ui/card';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Label } from '@/components/ui/label';\r\nimport { toast } from 'sonner';\r\nimport { Loader2, UserCircle2, KeyRound } from 'lucide-react';\r\n\r\nexport default function AuthPage() {\r\n  const router = useRouter();\r\n  \r\n  // ‚ö†Ô∏è ÈáçÁÇπÔºöÂè™Ëß£ÊûÑ setCurrentUserÔºåÂçÉ‰∏áÂà´Ëß£ÊûÑ login\r\n  const { setCurrentUser } = useAppStore(); \r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    username: '',\r\n    password: '',\r\n    role: 'student'\r\n  });\r\n\r\n  const handleLogin = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      // 1. Ë∞ÉÁî®ÂêéÁ´ØÊï∞ÊçÆÂ∫ìÈ™åËØÅ\r\n      const res = await loginAction(formData.username, formData.role);\r\n\r\n      if (res.success) {\r\n        // 2. È™åËØÅÈÄöËøáÔºåÊääÁî®Êà∑‰ø°ÊÅØÂ≠òÂà∞ÂâçÁ´ØÁä∂ÊÄÅ\r\n        setCurrentUser(res.data);\r\n        toast.success(\"ÁôªÂΩïÊàêÂäü\", { description: `Ê¨¢ËøéÂõûÊù•Ôºå${res.data.name}` });\r\n\r\n        // 3. Ê†πÊçÆËßíËâ≤Ë∑≥ËΩ¨\r\n        if (formData.role === 'admin') router.push('/admin/users');\r\n        else if (formData.role === 'counselor') router.push('/counselor/dashboard');\r\n        else router.push('/student/dashboard');\r\n      } else {\r\n        toast.error(\"ÁôªÂΩïÂ§±Ë¥•\", { description: res.error || \"Ë¥¶Âè∑ÊàñËßíËâ≤‰∏çÂåπÈÖç\" });\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"Á≥ªÁªüÈîôËØØ\", { description: \"Êó†Ê≥ïËøûÊé•Âà∞ÊúçÂä°Âô®\" });\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-[#F0F7EF] p-4 bg-[url('https://images.unsplash.com/photo-1497294815431-9365093b7331?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')] bg-cover bg-center\">\r\n      <div className=\"absolute inset-0 bg-black/30 backdrop-blur-sm\"></div>\r\n      \r\n      <Card className=\"w-full max-w-md shadow-2xl border-0 relative z-10 bg-white/95 backdrop-blur\">\r\n        <CardHeader className=\"space-y-1 text-center pb-8\">\r\n          <div className=\"mx-auto w-12 h-12 bg-[#5D9C59] rounded-full flex items-center justify-center mb-4\">\r\n            <UserCircle2 className=\"text-white w-7 h-7\" />\r\n          </div>\r\n          <CardTitle className=\"text-2xl font-bold text-[#2C3E50]\">Ê¨¢ËøéÂõûÊù•</CardTitle>\r\n          <CardDescription>È´òÊ†°ÂøÉÁêÜÂí®ËØ¢È¢ÑÁ∫¶Á≥ªÁªü</CardDescription>\r\n        </CardHeader>\r\n\r\n        <CardContent>\r\n          <Tabs defaultValue=\"login\" className=\"w-full\">\r\n            <TabsList className=\"grid w-full grid-cols-2 mb-6\">\r\n              <TabsTrigger value=\"login\">ÁôªÂΩïË¥¶Âè∑</TabsTrigger>\r\n              <TabsTrigger value=\"register\" disabled>Ê≥®ÂÜåË¥¶Âè∑</TabsTrigger>\r\n            </TabsList>\r\n\r\n            <TabsContent value=\"login\">\r\n              <form onSubmit={handleLogin} className=\"space-y-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label>ÊàëÊòØ...</Label>\r\n                  <Select \r\n                    value={formData.role} \r\n                    onValueChange={(val) => setFormData({...formData, role: val})}\r\n                  >\r\n                    <SelectTrigger className=\"bg-white\">\r\n                      <SelectValue placeholder=\"ÈÄâÊã©Ë∫´‰ªΩ\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"student\">Â≠¶Áîü (Student)</SelectItem>\r\n                      <SelectItem value=\"counselor\">ÂøÉÁêÜÂí®ËØ¢Â∏à (Counselor)</SelectItem>\r\n                      <SelectItem value=\"admin\">ÁÆ°ÁêÜÂëò (Admin)</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label>Ë¥¶Âè∑ (Â≠¶Âè∑/Â∑•Âè∑)</Label>\r\n                  <div className=\"relative\">\r\n                    <UserCircle2 className=\"absolute left-3 top-3 h-4 w-4 text-slate-400\" />\r\n                    <Input \r\n                      placeholder=\"ËØ∑ËæìÂÖ•Â≠¶Âè∑ÊàñÂ∑•Âè∑\" \r\n                      className=\"pl-9 bg-white\"\r\n                      value={formData.username}\r\n                      onChange={(e) => setFormData({...formData, username: e.target.value})}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label>ÂØÜÁ†Å</Label>\r\n                  <div className=\"relative\">\r\n                    <KeyRound className=\"absolute left-3 top-3 h-4 w-4 text-slate-400\" />\r\n                    <Input \r\n                      type=\"password\" \r\n                      placeholder=\"ÈªòËÆ§ÂØÜÁ†Å: 123456\" \r\n                      className=\"pl-9 bg-white\"\r\n                      value={formData.password}\r\n                      onChange={(e) => setFormData({...formData, password: e.target.value})}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <Button \r\n                  type=\"submit\" \r\n                  className=\"w-full bg-[#5D9C59] hover:bg-[#3E6D3B] text-white h-11 mt-4 text-base\"\r\n                  disabled={isLoading}\r\n                >\r\n                  {isLoading ? <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" /> : \"Á´ãÂç≥ÁôªÂΩï\"}\r\n                </Button>\r\n              </form>\r\n            </TabsContent>\r\n            \r\n            <TabsContent value=\"register\">\r\n              <div className=\"text-center py-10 text-slate-500 text-sm\">\r\n                <p>‰∏∫Á°Æ‰øùÊï∞ÊçÆÂÆâÂÖ®ÔºåÁõÆÂâç‰ªÖÊîØÊåÅÁÆ°ÁêÜÂëòÂêéÂè∞Ê∑ªÂä†Ë¥¶Âè∑„ÄÇ</p>\r\n                <p className=\"mt-2\">ËØ∑ËÅîÁ≥ªËæÖÂØºÂëòÊàñÂøÉÁêÜ‰∏≠ÂøÉÂºÄÈÄöÊùÉÈôê„ÄÇ</p>\r\n              </div>\r\n            </TabsContent>\r\n          </Tabs>\r\n        </CardContent>\r\n        <CardFooter className=\"justify-center border-t py-4 text-xs text-slate-400\">\r\n          ¬© 2024 Campus Counseling System. All rights reserved.\r\n        </CardFooter>\r\n      </Card>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}