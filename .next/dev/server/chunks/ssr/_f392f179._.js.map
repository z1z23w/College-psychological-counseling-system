{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%AE%9E%E9%AA%8C/my-counseling-app/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///D:/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%AE%9E%E9%AA%8C/my-counseling-app/app/actions.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { prisma } from \"@/lib/db\";\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\n// ==========================================\r\n// 1. Áî®Êà∑ÁÆ°ÁêÜ (ÁÆ°ÁêÜÂëòÁî® - ‰πãÂâç‰∏¢Â§±ÁöÑÈÉ®ÂàÜ)\r\n// ==========================================\r\n\r\nexport async function getUsers() {\r\n  try {\r\n    const users = await prisma.user.findMany({\r\n      orderBy: { createdAt: 'desc' }\r\n    });\r\n    return { success: true, data: users };\r\n  } catch (error) {\r\n    console.error(\"Ëé∑ÂèñÁî®Êà∑Â§±Ë¥•:\", error);\r\n    return { success: false, data: [] };\r\n  }\r\n}\r\n\r\nexport async function createUser(formData: FormData) {\r\n  const name = formData.get(\"name\") as string;\r\n  const username = formData.get(\"username\") as string;\r\n  const role = formData.get(\"role\") as string;\r\n  const college = formData.get(\"college\") as string;\r\n\r\n  try {\r\n    await prisma.user.create({\r\n      data: {\r\n        name,\r\n        username,\r\n        role,\r\n        college,\r\n        password: \"123456\", // ÈªòËÆ§ÂØÜÁ†Å\r\n        avatar: `https://api.dicebear.com/7.x/avataaars/svg?seed=${name}`\r\n      },\r\n    });\r\n    revalidatePath(\"/admin/users\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    return { success: false, error: \"ÂàõÂª∫Â§±Ë¥•ÔºåÂ≠¶Âè∑ÂèØËÉΩÂ∑≤Â≠òÂú®\" };\r\n  }\r\n}\r\n\r\n// ==========================================\r\n// 2. ËÆ§ËØÅ‰∏éÊü•ËØ¢ (ÈÄöÁî®)\r\n// ==========================================\r\n\r\n// ÁôªÂΩïÈ™åËØÅ\r\nexport async function loginAction(username: string, role: string) {\r\n  try {\r\n    const user = await prisma.user.findFirst({\r\n      where: { username, role }\r\n    });\r\n    if (!user) return { success: false, error: \"Áî®Êà∑‰∏çÂ≠òÂú®ÊàñËßíËâ≤ÈîôËØØ\" };\r\n    \r\n    // ËøîÂõûÁî®Êà∑‰ø°ÊÅØÔºà‰∏çÂê´ÂØÜÁ†ÅÔºâ\r\n    const { password, ...userInfo } = user;\r\n    return { success: true, data: userInfo };\r\n  } catch (error) {\r\n    return { success: false, error: \"Êï∞ÊçÆÂ∫ìËøûÊé•Â§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// Ëé∑ÂèñÊâÄÊúâÂí®ËØ¢Â∏à\r\nexport async function getCounselors() {\r\n  return await prisma.user.findMany({\r\n    where: { role: 'counselor' }\r\n  });\r\n}\r\n\r\n// ==========================================\r\n// 3. È¢ÑÁ∫¶Á≥ªÁªü (Appointments)\r\n// ==========================================\r\n\r\n// ÂàõÂª∫È¢ÑÁ∫¶\r\nexport async function createAppointment(studentId: string, counselorId: string, date: string, time: string) {\r\n  try {\r\n    await prisma.appointment.create({\r\n      data: {\r\n        studentId,\r\n        counselorId,\r\n        date: new Date(date),\r\n        time,\r\n        status: 'pending',\r\n        notes: 'Â≠¶ÁîüÂèëËµ∑È¢ÑÁ∫¶'\r\n      }\r\n    });\r\n    revalidatePath(\"/student/booking\");\r\n    revalidatePath(\"/counselor/dashboard\");\r\n    return { success: true };\r\n  } catch (e) {\r\n    return { success: false, error: \"È¢ÑÁ∫¶ÂàõÂª∫Â§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// Ëé∑ÂèñÈ¢ÑÁ∫¶ÂàóË°®\r\nexport async function getAppointments(userId: string, role: string) {\r\n  const whereCondition = role === 'student' ? { studentId: userId } : { counselorId: userId };\r\n  \r\n  const data = await prisma.appointment.findMany({\r\n    where: whereCondition,\r\n    include: {\r\n      student: { select: { name: true } },\r\n      counselor: { select: { name: true } }\r\n    },\r\n    orderBy: { createdAt: 'desc' }\r\n  });\r\n\r\n  return data.map(apt => ({\r\n    ...apt,\r\n    date: apt.date.toISOString(),\r\n    createdAt: apt.createdAt.toISOString()\r\n  }));\r\n}\r\n\r\n// Êõ¥Êñ∞È¢ÑÁ∫¶Áä∂ÊÄÅ\r\nexport async function updateAppointmentStatus(id: string, status: string) {\r\n  await prisma.appointment.update({\r\n    where: { id },\r\n    data: { status }\r\n  });\r\n  revalidatePath(\"/counselor/dashboard\");\r\n  revalidatePath(\"/student/booking\");\r\n  return { success: true };\r\n}\r\n\r\n// ==========================================\r\n// 4. ÊñáÁ´†Á≥ªÁªü (Articles)\r\n// ==========================================\r\n\r\nexport async function getArticles() {\r\n  const articles = await prisma.article.findMany({\r\n    orderBy: { createdAt: 'desc' }\r\n  });\r\n  return articles.map(a => ({\r\n    ...a,\r\n    createdAt: a.createdAt.toISOString()\r\n  }));\r\n}\r\n\r\nexport async function createArticle(data: any) {\r\n  await prisma.article.create({\r\n    data: {\r\n      ...data,\r\n      author: 'ÁÆ°ÁêÜÂëò',\r\n      views: 0,\r\n      image: \"https://images.unsplash.com/photo-1499209974431-2761eb43a768?w=800&q=80\"\r\n    }\r\n  });\r\n  revalidatePath(\"/student/articles\");\r\n  return { success: true };\r\n}\r\n\r\n// ==========================================\r\n// 5. ÊµãËØÑÁ≥ªÁªü (Assessments)\r\n// ==========================================\r\n\r\nexport async function saveAssessment(studentId: string, score: number, result: string) {\r\n  await prisma.assessment.create({\r\n    data: {\r\n      studentId,\r\n      type: 'PHQ-9',\r\n      score,\r\n      result\r\n    }\r\n  });\r\n  revalidatePath(\"/student/assessment\");\r\n  return { success: true };\r\n}\r\n\r\nexport async function getAssessmentHistory(studentId: string) {\r\n  const data = await prisma.assessment.findMany({\r\n    where: { studentId },\r\n    orderBy: { createdAt: 'asc' }\r\n  });\r\n  return data.map(a => ({\r\n    ...a,\r\n    createdAt: a.createdAt.toISOString()\r\n  }));\r\n}\r\n\r\nexport async function deleteArticle(id: string) {\r\n  try {\r\n    await prisma.article.delete({\r\n      where: { id }\r\n    });\r\n    revalidatePath(\"/admin/content\"); // Âà∑Êñ∞ÂêéÂè∞ÂàóË°®\r\n    revalidatePath(\"/student/articles\"); // Âà∑Êñ∞Â≠¶ÁîüÁ´ØÂàóË°®\r\n    return { success: true };\r\n  } catch (error) {\r\n    return { success: false, error: \"Âà†Èô§Â§±Ë¥•\" };\r\n  }\r\n}\r\n\r\nexport async function updateConsultationRecord(id: string, notes: string) {\r\n  try {\r\n    await prisma.appointment.update({\r\n      where: { id },\r\n      data: { \r\n        notes, \r\n        status: 'completed' // ‰øùÂ≠òÂêéËá™Âä®Ê†áËÆ∞‰∏∫‚ÄúÂ∑≤ÂÆåÊàê/ÂæÖÂΩíÊ°£‚Äù\r\n      }\r\n    });\r\n    revalidatePath(\"/counselor/cases\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    console.error(\"Êõ¥Êñ∞ËÆ∞ÂΩïÂ§±Ë¥•:\", error);\r\n    return { success: false, error: \"‰øùÂ≠òÂ§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// Âà†Èô§Áî®Êà∑\r\nexport async function deleteUser(id: string) {\r\n  try {\r\n    await prisma.user.delete({\r\n      where: { id }\r\n    });\r\n    revalidatePath(\"/admin/users\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    return { success: false, error: \"Âà†Èô§Â§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// Êõ¥Êñ∞Áî®Êà∑\r\nexport async function updateUser(id: string, formData: FormData) {\r\n  const name = formData.get(\"name\") as string;\r\n  const username = formData.get(\"username\") as string;\r\n  const role = formData.get(\"role\") as string;\r\n  const college = formData.get(\"college\") as string;\r\n\r\n  try {\r\n    await prisma.user.update({\r\n      where: { id },\r\n      data: {\r\n        name,\r\n        username,\r\n        role,\r\n        college,\r\n      },\r\n    });\r\n    revalidatePath(\"/admin/users\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    return { success: false, error: \"Êõ¥Êñ∞Â§±Ë¥•ÔºåÂ≠¶Âè∑ÂèØËÉΩÂÜ≤Á™Å\" };\r\n  }\r\n}\r\n\r\nexport async function getAdminDashboardStats() {\r\n  //noStore(); // üà≤ Á¶ÅÁî®ÁºìÂ≠òÔºåÁ°Æ‰øùÊï∞ÊçÆÂÆûÊó∂\r\n\r\n  try {\r\n    const [studentCount, appointmentCount, completedCount, rawChartData] = await Promise.all([\r\n      // 1. Ê≥®ÂÜåÂ≠¶ÁîüÊÄªÊï∞\r\n      prisma.user.count({ \r\n        where: { role: 'student' } \r\n      }),\r\n\r\n      // 2. ÊúâÊïàÈ¢ÑÁ∫¶ÊÄªÈáè (ÂÖ≥ÈîÆ‰øÆÊîπÔºÅÔºÅÔºÅ)\r\n      // ‰ª•ÂâçÁªüËÆ°‰∫Ü pendingÔºåÁé∞Âú®Êàë‰ª¨Âè™ÁªüËÆ° 'confirmed' Âíå 'completed'\r\n      // ËøôÊ†∑ÔºöÂ≠¶ÁîüÂàöÁî≥ËØ∑Êó∂(pending)‰∏çÂç†Êï∞ÔºåËÄÅÂ∏àÁÇπ‰∫ÜÂêåÊÑè(confirmed)Êï∞Â≠óÊâç‰ºö +1\r\n      prisma.appointment.count({\r\n        where: {\r\n          status: {\r\n            in: ['confirmed', 'completed'] // ‚úÖ Âè™ÁÆó‚ÄúÂ∑≤Á°ÆËÆ§‚ÄùÂíå‚ÄúÂ∑≤ÂÆåÊàê‚ÄùÁöÑ\r\n          }\r\n        }\r\n      }),\r\n\r\n      // 3. Â∑≤ÂÆåÊàêÈ¢ÑÁ∫¶\r\n      prisma.appointment.count({ \r\n        where: { status: 'completed' } \r\n      }),\r\n\r\n      // 4. ÂõæË°®Êï∞ÊçÆÊ∫ê (ÂêåÊ†∑Âè™ÁªüËÆ°ÊúâÊïàÁöÑ)\r\n      prisma.appointment.findMany({\r\n        where: {\r\n          date: {\r\n            gte: new Date(new Date().setDate(new Date().getDate() - 6))\r\n          },\r\n          status: {\r\n            in: ['confirmed', 'completed'] // ‚úÖ ÂõæË°®‰πüÂè™ÊòæÁ§∫ËÄÅÂ∏àÊé•ÂçïÂêéÁöÑ\r\n          }\r\n        },\r\n        select: { date: true }\r\n      })\r\n    ]);\r\n\r\n    // Âç±Êú∫Âπ≤È¢ÑÁªüËÆ° (È¢ÑÁïô)\r\n    let crisisCount = 0;\r\n\r\n    // ËÆ°ÁÆóÁªìÊ°àÁéá\r\n    const completionRate = appointmentCount > 0 \r\n      ? Math.round((completedCount / appointmentCount) * 100) + \"%\" \r\n      : \"0%\";\r\n\r\n    // ÁîüÊàêÂõæË°®Êï∞ÊçÆ\r\n    const chartData = [];\r\n    const weekMap = ['Âë®Êó•', 'Âë®‰∏Ä', 'Âë®‰∫å', 'Âë®‰∏â', 'Âë®Âõõ', 'Âë®‰∫î', 'Âë®ÂÖ≠'];\r\n\r\n    for (let i = 6; i >= 0; i--) {\r\n      const d = new Date();\r\n      d.setDate(d.getDate() - i);\r\n      const month = d.getMonth() + 1;\r\n      const day = d.getDate();\r\n      const dateKey = `${month}/${day}`;\r\n      const weekLabel = weekMap[d.getDay()];\r\n\r\n      const count = rawChartData.filter(apt => {\r\n        const aptDate = new Date(apt.date);\r\n        return aptDate.getDate() === day && aptDate.getMonth() + 1 === month;\r\n      }).length;\r\n\r\n      chartData.push({ \r\n        name: dateKey, \r\n        day: weekLabel, \r\n        visits: count \r\n      });\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      data: {\r\n        stats: {\r\n          students: studentCount,\r\n          appointments: appointmentCount, // ËøôÈáåÁé∞Âú®ÊòæÁ§∫ÁöÑÊòØ‚ÄúÁîüÊïàÈ¢ÑÁ∫¶Êï∞‚Äù\r\n          crisis: crisisCount,\r\n          rate: completionRate\r\n        },\r\n        chart: chartData\r\n      }\r\n    };\r\n\r\n  } catch (error) {\r\n    console.error(\"Ëé∑ÂèñÁúãÊùøÊï∞ÊçÆÂ§±Ë¥•:\", error);\r\n    return { success: false, error: \"Âä†ËΩΩÂ§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// Ëé∑ÂèñÁ≥ªÁªüÈÖçÁΩÆ (Â¶ÇÊûúÊ≤°ÊúâÂàôÂàõÂª∫ÈªòËÆ§)\r\nexport async function getSystemSettings() {\r\n  try {\r\n    let config = await prisma.systemConfig.findFirst();\r\n    if (!config) {\r\n      config = await prisma.systemConfig.create({\r\n        data: {} // ‰ΩøÁî®ÈªòËÆ§ÂÄºÂàõÂª∫\r\n      });\r\n    }\r\n    return { success: true, data: config };\r\n  } catch (error) {\r\n    return { success: false, error: \"Ëé∑ÂèñÈÖçÁΩÆÂ§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// Êõ¥Êñ∞Á≥ªÁªüÈÖçÁΩÆ\r\nexport async function updateSystemSettings(data: any) {\r\n  try {\r\n    // ÂÖàÊâæÂà∞Á¨¨‰∏ÄÊù°ËÆ∞ÂΩïÁöÑ ID\r\n    const first = await prisma.systemConfig.findFirst();\r\n    \r\n    if (first) {\r\n      await prisma.systemConfig.update({\r\n        where: { id: first.id },\r\n        data: {\r\n          platformName: data.platformName,\r\n          hotline: data.hotline,\r\n          openHours: data.openHours,\r\n          maintenanceMode: data.maintenanceMode === 'true' || data.maintenanceMode === true\r\n        }\r\n      });\r\n      return { success: true };\r\n    }\r\n    return { success: false, error: \"Êú™ÊâæÂà∞ÈÖçÁΩÆËÆ∞ÂΩï\" };\r\n  } catch (error) {\r\n    console.error(error);\r\n    return { success: false, error: \"‰øùÂ≠òÂ§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// 1. Ëé∑ÂèñËÅäÂ§©ËÅîÁ≥ª‰∫∫ÂàóË°®\r\nexport async function getChatContacts(currentUserId: string, role: string) {\r\n  try {\r\n    if (role === 'student') {\r\n      // Â¶ÇÊûúÊòØÂ≠¶ÁîüÔºåËøîÂõûÊâÄÊúâÂí®ËØ¢Â∏à\r\n      const counselors = await prisma.user.findMany({\r\n        where: { role: 'counselor' },\r\n        select: { id: true, name: true, avatar: true, college: true }\r\n      });\r\n      return { success: true, data: counselors };\r\n    } else {\r\n      // Â¶ÇÊûúÊòØÂí®ËØ¢Â∏àÔºåËøîÂõûÁªôÂèëËøáÊ∂àÊÅØÁöÑÂ≠¶ÁîüÔºàËøôÈáåÁÆÄÂåñÈÄªËæëÔºöËøîÂõûÊâÄÊúâÂ≠¶ÁîüÔºåÊàñËÄÖ‰Ω†ÂèØ‰ª•ÂÅöÊõ¥Â§çÊùÇÁöÑÊü•ËØ¢Ôºâ\r\n      // ‰∏∫‰∫ÜÊºîÁ§∫Êñπ‰æøÔºåÊàë‰ª¨ÊöÇÊó∂ËøîÂõûÊâÄÊúâÂ≠¶ÁîüÔºåÂÆûÈôÖÈ°πÁõÆ‰∏≠Â∫îËØ•Âè™ËøîÂõûÊúâÈ¢ÑÁ∫¶ÊàñËÅäËøáÁöÑ\r\n      const students = await prisma.user.findMany({\r\n        where: { role: 'student' },\r\n        select: { id: true, name: true, avatar: true, college: true }\r\n      });\r\n      return { success: true, data: students };\r\n    }\r\n  } catch (error) {\r\n    return { success: false, data: [] };\r\n  }\r\n}\r\n\r\n// 2. Ëé∑ÂèñÊàëÂíåÊüê‰∫∫ÁöÑËÅäÂ§©ËÆ∞ÂΩï\r\nexport async function getMessages(userId1: string, userId2: string) {\r\n  try {\r\n    const messages = await prisma.message.findMany({\r\n      where: {\r\n        OR: [\r\n          { senderId: userId1, receiverId: userId2 },\r\n          { senderId: userId2, receiverId: userId1 }\r\n        ]\r\n      },\r\n      orderBy: { createdAt: 'asc' }, // ÊåâÊó∂Èó¥Ê≠£Â∫èÊéíÂàó\r\n      include: {\r\n        sender: { select: { name: true, avatar: true } }\r\n      }\r\n    });\r\n    return { success: true, data: messages };\r\n  } catch (error) {\r\n    return { success: false, data: [] };\r\n  }\r\n}\r\n\r\n// 3. ÂèëÈÄÅÊ∂àÊÅØ\r\nexport async function sendMessage(senderId: string, receiverId: string, content: string) {\r\n  try {\r\n    const message = await prisma.message.create({\r\n      data: {\r\n        senderId,\r\n        receiverId,\r\n        content\r\n      }\r\n    });\r\n    // Ê≥®ÊÑèÔºöËÅäÂ§©ÈÄöÂ∏∏‰∏çÈúÄË¶Å revalidatePathÔºåÂõ†‰∏∫ÊòØÂç≥Êó∂Êõ¥Êñ∞Áä∂ÊÄÅ\r\n    return { success: true, data: message };\r\n  } catch (error) {\r\n    return { success: false, error: \"ÂèëÈÄÅÂ§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// 1. Ëé∑ÂèñÊüê‰ΩçÂí®ËØ¢Â∏àÁöÑÊéíÁè≠\r\nexport async function getCounselorSchedule(counselorId: string) {\r\n  try {\r\n    const schedules = await prisma.schedule.findMany({\r\n      where: { counselorId, isAvailable: true }\r\n    });\r\n    return { success: true, data: schedules };\r\n  } catch (error) {\r\n    return { success: false, data: [] };\r\n  }\r\n}\r\n\r\n// 2. ÊâπÈáèÊõ¥Êñ∞ÊéíÁè≠ (Âí®ËØ¢Â∏àÁ´Ø‰ΩøÁî®)\r\n// slots Ê†ºÂºèÔºö[{ dayOfWeek: 1, timeSlot: \"08:30 - 09:20\", isAvailable: true }, ...]\r\nexport async function updateSchedule(counselorId: string, slots: any[]) {\r\n  try {\r\n    // ‰ΩøÁî®‰∫ãÂä°ÔºåÂÖàÂà†ÂêéÂä†ÔºåÊàñËÄÖÈÄê‰∏™ upsert\r\n    // ÁÆÄÂçïËµ∑ËßÅÔºåÊàë‰ª¨‰ΩøÁî® transaction ÈÄê‰∏™ upsert\r\n    const ops = slots.map(slot => \r\n      prisma.schedule.upsert({\r\n        where: {\r\n          counselorId_dayOfWeek_timeSlot: {\r\n            counselorId,\r\n            dayOfWeek: slot.dayOfWeek,\r\n            timeSlot: slot.timeSlot\r\n          }\r\n        },\r\n        update: { isAvailable: slot.isAvailable },\r\n        create: {\r\n          counselorId,\r\n          dayOfWeek: slot.dayOfWeek,\r\n          timeSlot: slot.timeSlot,\r\n          isAvailable: slot.isAvailable\r\n        }\r\n      })\r\n    );\r\n    \r\n    await prisma.$transaction(ops);\r\n    return { success: true };\r\n  } catch (error) {\r\n    console.error(error);\r\n    return { success: false, error: \"‰øùÂ≠òÂ§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// Ê†πÊçÆ ID Ëé∑ÂèñÂçïÁØáÊñáÁ´†ËØ¶ÊÉÖ\r\nexport async function getArticleById(id: string) {\r\n  try {\r\n    const article = await prisma.article.findUnique({\r\n      where: { id: id }\r\n    });\r\n    \r\n    if (article) {\r\n      return { success: true, data: article };\r\n    }\r\n    return { success: false, error: \"ÊñáÁ´†Êú™ÊâæÂà∞\" };\r\n  } catch (error) {\r\n    console.error(error);\r\n    return { success: false, error: \"Êü•ËØ¢Â§±Ë¥•\" };\r\n  }\r\n}"],"names":[],"mappings":";;;;;;;IAkGsB,kBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///D:/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%AE%9E%E9%AA%8C/my-counseling-app/app/actions.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { prisma } from \"@/lib/db\";\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\n// ==========================================\r\n// 1. Áî®Êà∑ÁÆ°ÁêÜ (ÁÆ°ÁêÜÂëòÁî® - ‰πãÂâç‰∏¢Â§±ÁöÑÈÉ®ÂàÜ)\r\n// ==========================================\r\n\r\nexport async function getUsers() {\r\n  try {\r\n    const users = await prisma.user.findMany({\r\n      orderBy: { createdAt: 'desc' }\r\n    });\r\n    return { success: true, data: users };\r\n  } catch (error) {\r\n    console.error(\"Ëé∑ÂèñÁî®Êà∑Â§±Ë¥•:\", error);\r\n    return { success: false, data: [] };\r\n  }\r\n}\r\n\r\nexport async function createUser(formData: FormData) {\r\n  const name = formData.get(\"name\") as string;\r\n  const username = formData.get(\"username\") as string;\r\n  const role = formData.get(\"role\") as string;\r\n  const college = formData.get(\"college\") as string;\r\n\r\n  try {\r\n    await prisma.user.create({\r\n      data: {\r\n        name,\r\n        username,\r\n        role,\r\n        college,\r\n        password: \"123456\", // ÈªòËÆ§ÂØÜÁ†Å\r\n        avatar: `https://api.dicebear.com/7.x/avataaars/svg?seed=${name}`\r\n      },\r\n    });\r\n    revalidatePath(\"/admin/users\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    return { success: false, error: \"ÂàõÂª∫Â§±Ë¥•ÔºåÂ≠¶Âè∑ÂèØËÉΩÂ∑≤Â≠òÂú®\" };\r\n  }\r\n}\r\n\r\n// ==========================================\r\n// 2. ËÆ§ËØÅ‰∏éÊü•ËØ¢ (ÈÄöÁî®)\r\n// ==========================================\r\n\r\n// ÁôªÂΩïÈ™åËØÅ\r\nexport async function loginAction(username: string, role: string) {\r\n  try {\r\n    const user = await prisma.user.findFirst({\r\n      where: { username, role }\r\n    });\r\n    if (!user) return { success: false, error: \"Áî®Êà∑‰∏çÂ≠òÂú®ÊàñËßíËâ≤ÈîôËØØ\" };\r\n    \r\n    // ËøîÂõûÁî®Êà∑‰ø°ÊÅØÔºà‰∏çÂê´ÂØÜÁ†ÅÔºâ\r\n    const { password, ...userInfo } = user;\r\n    return { success: true, data: userInfo };\r\n  } catch (error) {\r\n    return { success: false, error: \"Êï∞ÊçÆÂ∫ìËøûÊé•Â§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// Ëé∑ÂèñÊâÄÊúâÂí®ËØ¢Â∏à\r\nexport async function getCounselors() {\r\n  return await prisma.user.findMany({\r\n    where: { role: 'counselor' }\r\n  });\r\n}\r\n\r\n// ==========================================\r\n// 3. È¢ÑÁ∫¶Á≥ªÁªü (Appointments)\r\n// ==========================================\r\n\r\n// ÂàõÂª∫È¢ÑÁ∫¶\r\nexport async function createAppointment(studentId: string, counselorId: string, date: string, time: string) {\r\n  try {\r\n    await prisma.appointment.create({\r\n      data: {\r\n        studentId,\r\n        counselorId,\r\n        date: new Date(date),\r\n        time,\r\n        status: 'pending',\r\n        notes: 'Â≠¶ÁîüÂèëËµ∑È¢ÑÁ∫¶'\r\n      }\r\n    });\r\n    revalidatePath(\"/student/booking\");\r\n    revalidatePath(\"/counselor/dashboard\");\r\n    return { success: true };\r\n  } catch (e) {\r\n    return { success: false, error: \"È¢ÑÁ∫¶ÂàõÂª∫Â§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// Ëé∑ÂèñÈ¢ÑÁ∫¶ÂàóË°®\r\nexport async function getAppointments(userId: string, role: string) {\r\n  const whereCondition = role === 'student' ? { studentId: userId } : { counselorId: userId };\r\n  \r\n  const data = await prisma.appointment.findMany({\r\n    where: whereCondition,\r\n    include: {\r\n      student: { select: { name: true } },\r\n      counselor: { select: { name: true } }\r\n    },\r\n    orderBy: { createdAt: 'desc' }\r\n  });\r\n\r\n  return data.map(apt => ({\r\n    ...apt,\r\n    date: apt.date.toISOString(),\r\n    createdAt: apt.createdAt.toISOString()\r\n  }));\r\n}\r\n\r\n// Êõ¥Êñ∞È¢ÑÁ∫¶Áä∂ÊÄÅ\r\nexport async function updateAppointmentStatus(id: string, status: string) {\r\n  await prisma.appointment.update({\r\n    where: { id },\r\n    data: { status }\r\n  });\r\n  revalidatePath(\"/counselor/dashboard\");\r\n  revalidatePath(\"/student/booking\");\r\n  return { success: true };\r\n}\r\n\r\n// ==========================================\r\n// 4. ÊñáÁ´†Á≥ªÁªü (Articles)\r\n// ==========================================\r\n\r\nexport async function getArticles() {\r\n  const articles = await prisma.article.findMany({\r\n    orderBy: { createdAt: 'desc' }\r\n  });\r\n  return articles.map(a => ({\r\n    ...a,\r\n    createdAt: a.createdAt.toISOString()\r\n  }));\r\n}\r\n\r\nexport async function createArticle(data: any) {\r\n  await prisma.article.create({\r\n    data: {\r\n      ...data,\r\n      author: 'ÁÆ°ÁêÜÂëò',\r\n      views: 0,\r\n      image: \"https://images.unsplash.com/photo-1499209974431-2761eb43a768?w=800&q=80\"\r\n    }\r\n  });\r\n  revalidatePath(\"/student/articles\");\r\n  return { success: true };\r\n}\r\n\r\n// ==========================================\r\n// 5. ÊµãËØÑÁ≥ªÁªü (Assessments)\r\n// ==========================================\r\n\r\nexport async function saveAssessment(studentId: string, score: number, result: string) {\r\n  await prisma.assessment.create({\r\n    data: {\r\n      studentId,\r\n      type: 'PHQ-9',\r\n      score,\r\n      result\r\n    }\r\n  });\r\n  revalidatePath(\"/student/assessment\");\r\n  return { success: true };\r\n}\r\n\r\nexport async function getAssessmentHistory(studentId: string) {\r\n  const data = await prisma.assessment.findMany({\r\n    where: { studentId },\r\n    orderBy: { createdAt: 'asc' }\r\n  });\r\n  return data.map(a => ({\r\n    ...a,\r\n    createdAt: a.createdAt.toISOString()\r\n  }));\r\n}\r\n\r\nexport async function deleteArticle(id: string) {\r\n  try {\r\n    await prisma.article.delete({\r\n      where: { id }\r\n    });\r\n    revalidatePath(\"/admin/content\"); // Âà∑Êñ∞ÂêéÂè∞ÂàóË°®\r\n    revalidatePath(\"/student/articles\"); // Âà∑Êñ∞Â≠¶ÁîüÁ´ØÂàóË°®\r\n    return { success: true };\r\n  } catch (error) {\r\n    return { success: false, error: \"Âà†Èô§Â§±Ë¥•\" };\r\n  }\r\n}\r\n\r\nexport async function updateConsultationRecord(id: string, notes: string) {\r\n  try {\r\n    await prisma.appointment.update({\r\n      where: { id },\r\n      data: { \r\n        notes, \r\n        status: 'completed' // ‰øùÂ≠òÂêéËá™Âä®Ê†áËÆ∞‰∏∫‚ÄúÂ∑≤ÂÆåÊàê/ÂæÖÂΩíÊ°£‚Äù\r\n      }\r\n    });\r\n    revalidatePath(\"/counselor/cases\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    console.error(\"Êõ¥Êñ∞ËÆ∞ÂΩïÂ§±Ë¥•:\", error);\r\n    return { success: false, error: \"‰øùÂ≠òÂ§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// Âà†Èô§Áî®Êà∑\r\nexport async function deleteUser(id: string) {\r\n  try {\r\n    await prisma.user.delete({\r\n      where: { id }\r\n    });\r\n    revalidatePath(\"/admin/users\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    return { success: false, error: \"Âà†Èô§Â§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// Êõ¥Êñ∞Áî®Êà∑\r\nexport async function updateUser(id: string, formData: FormData) {\r\n  const name = formData.get(\"name\") as string;\r\n  const username = formData.get(\"username\") as string;\r\n  const role = formData.get(\"role\") as string;\r\n  const college = formData.get(\"college\") as string;\r\n\r\n  try {\r\n    await prisma.user.update({\r\n      where: { id },\r\n      data: {\r\n        name,\r\n        username,\r\n        role,\r\n        college,\r\n      },\r\n    });\r\n    revalidatePath(\"/admin/users\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    return { success: false, error: \"Êõ¥Êñ∞Â§±Ë¥•ÔºåÂ≠¶Âè∑ÂèØËÉΩÂÜ≤Á™Å\" };\r\n  }\r\n}\r\n\r\nexport async function getAdminDashboardStats() {\r\n  //noStore(); // üà≤ Á¶ÅÁî®ÁºìÂ≠òÔºåÁ°Æ‰øùÊï∞ÊçÆÂÆûÊó∂\r\n\r\n  try {\r\n    const [studentCount, appointmentCount, completedCount, rawChartData] = await Promise.all([\r\n      // 1. Ê≥®ÂÜåÂ≠¶ÁîüÊÄªÊï∞\r\n      prisma.user.count({ \r\n        where: { role: 'student' } \r\n      }),\r\n\r\n      // 2. ÊúâÊïàÈ¢ÑÁ∫¶ÊÄªÈáè (ÂÖ≥ÈîÆ‰øÆÊîπÔºÅÔºÅÔºÅ)\r\n      // ‰ª•ÂâçÁªüËÆ°‰∫Ü pendingÔºåÁé∞Âú®Êàë‰ª¨Âè™ÁªüËÆ° 'confirmed' Âíå 'completed'\r\n      // ËøôÊ†∑ÔºöÂ≠¶ÁîüÂàöÁî≥ËØ∑Êó∂(pending)‰∏çÂç†Êï∞ÔºåËÄÅÂ∏àÁÇπ‰∫ÜÂêåÊÑè(confirmed)Êï∞Â≠óÊâç‰ºö +1\r\n      prisma.appointment.count({\r\n        where: {\r\n          status: {\r\n            in: ['confirmed', 'completed'] // ‚úÖ Âè™ÁÆó‚ÄúÂ∑≤Á°ÆËÆ§‚ÄùÂíå‚ÄúÂ∑≤ÂÆåÊàê‚ÄùÁöÑ\r\n          }\r\n        }\r\n      }),\r\n\r\n      // 3. Â∑≤ÂÆåÊàêÈ¢ÑÁ∫¶\r\n      prisma.appointment.count({ \r\n        where: { status: 'completed' } \r\n      }),\r\n\r\n      // 4. ÂõæË°®Êï∞ÊçÆÊ∫ê (ÂêåÊ†∑Âè™ÁªüËÆ°ÊúâÊïàÁöÑ)\r\n      prisma.appointment.findMany({\r\n        where: {\r\n          date: {\r\n            gte: new Date(new Date().setDate(new Date().getDate() - 6))\r\n          },\r\n          status: {\r\n            in: ['confirmed', 'completed'] // ‚úÖ ÂõæË°®‰πüÂè™ÊòæÁ§∫ËÄÅÂ∏àÊé•ÂçïÂêéÁöÑ\r\n          }\r\n        },\r\n        select: { date: true }\r\n      })\r\n    ]);\r\n\r\n    // Âç±Êú∫Âπ≤È¢ÑÁªüËÆ° (È¢ÑÁïô)\r\n    let crisisCount = 0;\r\n\r\n    // ËÆ°ÁÆóÁªìÊ°àÁéá\r\n    const completionRate = appointmentCount > 0 \r\n      ? Math.round((completedCount / appointmentCount) * 100) + \"%\" \r\n      : \"0%\";\r\n\r\n    // ÁîüÊàêÂõæË°®Êï∞ÊçÆ\r\n    const chartData = [];\r\n    const weekMap = ['Âë®Êó•', 'Âë®‰∏Ä', 'Âë®‰∫å', 'Âë®‰∏â', 'Âë®Âõõ', 'Âë®‰∫î', 'Âë®ÂÖ≠'];\r\n\r\n    for (let i = 6; i >= 0; i--) {\r\n      const d = new Date();\r\n      d.setDate(d.getDate() - i);\r\n      const month = d.getMonth() + 1;\r\n      const day = d.getDate();\r\n      const dateKey = `${month}/${day}`;\r\n      const weekLabel = weekMap[d.getDay()];\r\n\r\n      const count = rawChartData.filter(apt => {\r\n        const aptDate = new Date(apt.date);\r\n        return aptDate.getDate() === day && aptDate.getMonth() + 1 === month;\r\n      }).length;\r\n\r\n      chartData.push({ \r\n        name: dateKey, \r\n        day: weekLabel, \r\n        visits: count \r\n      });\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      data: {\r\n        stats: {\r\n          students: studentCount,\r\n          appointments: appointmentCount, // ËøôÈáåÁé∞Âú®ÊòæÁ§∫ÁöÑÊòØ‚ÄúÁîüÊïàÈ¢ÑÁ∫¶Êï∞‚Äù\r\n          crisis: crisisCount,\r\n          rate: completionRate\r\n        },\r\n        chart: chartData\r\n      }\r\n    };\r\n\r\n  } catch (error) {\r\n    console.error(\"Ëé∑ÂèñÁúãÊùøÊï∞ÊçÆÂ§±Ë¥•:\", error);\r\n    return { success: false, error: \"Âä†ËΩΩÂ§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// Ëé∑ÂèñÁ≥ªÁªüÈÖçÁΩÆ (Â¶ÇÊûúÊ≤°ÊúâÂàôÂàõÂª∫ÈªòËÆ§)\r\nexport async function getSystemSettings() {\r\n  try {\r\n    let config = await prisma.systemConfig.findFirst();\r\n    if (!config) {\r\n      config = await prisma.systemConfig.create({\r\n        data: {} // ‰ΩøÁî®ÈªòËÆ§ÂÄºÂàõÂª∫\r\n      });\r\n    }\r\n    return { success: true, data: config };\r\n  } catch (error) {\r\n    return { success: false, error: \"Ëé∑ÂèñÈÖçÁΩÆÂ§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// Êõ¥Êñ∞Á≥ªÁªüÈÖçÁΩÆ\r\nexport async function updateSystemSettings(data: any) {\r\n  try {\r\n    // ÂÖàÊâæÂà∞Á¨¨‰∏ÄÊù°ËÆ∞ÂΩïÁöÑ ID\r\n    const first = await prisma.systemConfig.findFirst();\r\n    \r\n    if (first) {\r\n      await prisma.systemConfig.update({\r\n        where: { id: first.id },\r\n        data: {\r\n          platformName: data.platformName,\r\n          hotline: data.hotline,\r\n          openHours: data.openHours,\r\n          maintenanceMode: data.maintenanceMode === 'true' || data.maintenanceMode === true\r\n        }\r\n      });\r\n      return { success: true };\r\n    }\r\n    return { success: false, error: \"Êú™ÊâæÂà∞ÈÖçÁΩÆËÆ∞ÂΩï\" };\r\n  } catch (error) {\r\n    console.error(error);\r\n    return { success: false, error: \"‰øùÂ≠òÂ§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// 1. Ëé∑ÂèñËÅäÂ§©ËÅîÁ≥ª‰∫∫ÂàóË°®\r\nexport async function getChatContacts(currentUserId: string, role: string) {\r\n  try {\r\n    if (role === 'student') {\r\n      // Â¶ÇÊûúÊòØÂ≠¶ÁîüÔºåËøîÂõûÊâÄÊúâÂí®ËØ¢Â∏à\r\n      const counselors = await prisma.user.findMany({\r\n        where: { role: 'counselor' },\r\n        select: { id: true, name: true, avatar: true, college: true }\r\n      });\r\n      return { success: true, data: counselors };\r\n    } else {\r\n      // Â¶ÇÊûúÊòØÂí®ËØ¢Â∏àÔºåËøîÂõûÁªôÂèëËøáÊ∂àÊÅØÁöÑÂ≠¶ÁîüÔºàËøôÈáåÁÆÄÂåñÈÄªËæëÔºöËøîÂõûÊâÄÊúâÂ≠¶ÁîüÔºåÊàñËÄÖ‰Ω†ÂèØ‰ª•ÂÅöÊõ¥Â§çÊùÇÁöÑÊü•ËØ¢Ôºâ\r\n      // ‰∏∫‰∫ÜÊºîÁ§∫Êñπ‰æøÔºåÊàë‰ª¨ÊöÇÊó∂ËøîÂõûÊâÄÊúâÂ≠¶ÁîüÔºåÂÆûÈôÖÈ°πÁõÆ‰∏≠Â∫îËØ•Âè™ËøîÂõûÊúâÈ¢ÑÁ∫¶ÊàñËÅäËøáÁöÑ\r\n      const students = await prisma.user.findMany({\r\n        where: { role: 'student' },\r\n        select: { id: true, name: true, avatar: true, college: true }\r\n      });\r\n      return { success: true, data: students };\r\n    }\r\n  } catch (error) {\r\n    return { success: false, data: [] };\r\n  }\r\n}\r\n\r\n// 2. Ëé∑ÂèñÊàëÂíåÊüê‰∫∫ÁöÑËÅäÂ§©ËÆ∞ÂΩï\r\nexport async function getMessages(userId1: string, userId2: string) {\r\n  try {\r\n    const messages = await prisma.message.findMany({\r\n      where: {\r\n        OR: [\r\n          { senderId: userId1, receiverId: userId2 },\r\n          { senderId: userId2, receiverId: userId1 }\r\n        ]\r\n      },\r\n      orderBy: { createdAt: 'asc' }, // ÊåâÊó∂Èó¥Ê≠£Â∫èÊéíÂàó\r\n      include: {\r\n        sender: { select: { name: true, avatar: true } }\r\n      }\r\n    });\r\n    return { success: true, data: messages };\r\n  } catch (error) {\r\n    return { success: false, data: [] };\r\n  }\r\n}\r\n\r\n// 3. ÂèëÈÄÅÊ∂àÊÅØ\r\nexport async function sendMessage(senderId: string, receiverId: string, content: string) {\r\n  try {\r\n    const message = await prisma.message.create({\r\n      data: {\r\n        senderId,\r\n        receiverId,\r\n        content\r\n      }\r\n    });\r\n    // Ê≥®ÊÑèÔºöËÅäÂ§©ÈÄöÂ∏∏‰∏çÈúÄË¶Å revalidatePathÔºåÂõ†‰∏∫ÊòØÂç≥Êó∂Êõ¥Êñ∞Áä∂ÊÄÅ\r\n    return { success: true, data: message };\r\n  } catch (error) {\r\n    return { success: false, error: \"ÂèëÈÄÅÂ§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// 1. Ëé∑ÂèñÊüê‰ΩçÂí®ËØ¢Â∏àÁöÑÊéíÁè≠\r\nexport async function getCounselorSchedule(counselorId: string) {\r\n  try {\r\n    const schedules = await prisma.schedule.findMany({\r\n      where: { counselorId, isAvailable: true }\r\n    });\r\n    return { success: true, data: schedules };\r\n  } catch (error) {\r\n    return { success: false, data: [] };\r\n  }\r\n}\r\n\r\n// 2. ÊâπÈáèÊõ¥Êñ∞ÊéíÁè≠ (Âí®ËØ¢Â∏àÁ´Ø‰ΩøÁî®)\r\n// slots Ê†ºÂºèÔºö[{ dayOfWeek: 1, timeSlot: \"08:30 - 09:20\", isAvailable: true }, ...]\r\nexport async function updateSchedule(counselorId: string, slots: any[]) {\r\n  try {\r\n    // ‰ΩøÁî®‰∫ãÂä°ÔºåÂÖàÂà†ÂêéÂä†ÔºåÊàñËÄÖÈÄê‰∏™ upsert\r\n    // ÁÆÄÂçïËµ∑ËßÅÔºåÊàë‰ª¨‰ΩøÁî® transaction ÈÄê‰∏™ upsert\r\n    const ops = slots.map(slot => \r\n      prisma.schedule.upsert({\r\n        where: {\r\n          counselorId_dayOfWeek_timeSlot: {\r\n            counselorId,\r\n            dayOfWeek: slot.dayOfWeek,\r\n            timeSlot: slot.timeSlot\r\n          }\r\n        },\r\n        update: { isAvailable: slot.isAvailable },\r\n        create: {\r\n          counselorId,\r\n          dayOfWeek: slot.dayOfWeek,\r\n          timeSlot: slot.timeSlot,\r\n          isAvailable: slot.isAvailable\r\n        }\r\n      })\r\n    );\r\n    \r\n    await prisma.$transaction(ops);\r\n    return { success: true };\r\n  } catch (error) {\r\n    console.error(error);\r\n    return { success: false, error: \"‰øùÂ≠òÂ§±Ë¥•\" };\r\n  }\r\n}\r\n\r\n// Ê†πÊçÆ ID Ëé∑ÂèñÂçïÁØáÊñáÁ´†ËØ¶ÊÉÖ\r\nexport async function getArticleById(id: string) {\r\n  try {\r\n    const article = await prisma.article.findUnique({\r\n      where: { id: id }\r\n    });\r\n    \r\n    if (article) {\r\n      return { success: true, data: article };\r\n    }\r\n    return { success: false, error: \"ÊñáÁ´†Êú™ÊâæÂà∞\" };\r\n  } catch (error) {\r\n    console.error(error);\r\n    return { success: false, error: \"Êü•ËØ¢Â§±Ë¥•\" };\r\n  }\r\n}"],"names":[],"mappings":";;;;;;;IAsHsB,0BAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///D:/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%AE%9E%E9%AA%8C/my-counseling-app/app/counselor/dashboard/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from 'react';\r\nimport { useAppStore } from '@/lib/store';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { CheckCircle, XCircle, User, Calendar } from 'lucide-react';\r\nimport { toast } from 'sonner';\r\n// ‚úÖ ÂºïÂÖ•ÂêéÁ´Ø Actions\r\nimport { getAppointments, updateAppointmentStatus } from '@/app/actions';\r\n\r\nexport default function CounselorDashboard() {\r\n  const { currentUser } = useAppStore();\r\n  const [appointments, setAppointments] = useState<any[]>([]);\r\n\r\n  const loadData = () => {\r\n    if (currentUser?.id) {\r\n      getAppointments(currentUser.id, 'counselor').then(data => {\r\n        // Âè™ÊòæÁ§∫ pending Áä∂ÊÄÅÁöÑ\r\n        setAppointments(data.filter((a: any) => a.status === 'pending'));\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n  }, [currentUser]);\r\n\r\n  const handleProcess = async (id: string, status: string) => {\r\n    await updateAppointmentStatus(id, status);\r\n    toast.success(status === 'confirmed' ? \"Â∑≤Êé•Âçï\" : \"Â∑≤ÊãíÁªù\");\r\n    loadData(); // Âà∑Êñ∞ÂàóË°®\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h1 className=\"text-2xl font-bold\">Â∑•‰ΩúÂè∞ (Êï∞ÊçÆÂ∫ìÂÆûÊó∂)</h1>\r\n      \r\n      <Card>\r\n        <CardHeader><CardTitle>ÂæÖÂ§ÑÁêÜÈ¢ÑÁ∫¶ ({appointments.length})</CardTitle></CardHeader>\r\n        <CardContent>\r\n          <div className=\"space-y-4\">\r\n            {appointments.length === 0 ? (\r\n              <div className=\"text-center text-slate-400 py-6\">ÊöÇÊó†ÂæÖÂ§ÑÁêÜ‰∫ãÈ°π</div>\r\n            ) : (\r\n              appointments.map((apt) => (\r\n                <div key={apt.id} className=\"flex justify-between items-center p-4 border rounded-lg bg-slate-50\">\r\n                  <div className=\"flex gap-4 items-center\">\r\n                    <div className=\"w-10 h-10 bg-white rounded-full flex items-center justify-center border\">\r\n                      <User className=\"w-5 h-5 text-slate-400\" />\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"font-bold\">{apt.student.name}</div>\r\n                      <div className=\"text-sm text-slate-500 flex gap-2\">\r\n                        <span><Calendar className=\"w-3 h-3 inline\"/> {new Date(apt.date).toLocaleDateString()}</span>\r\n                        <span>{apt.time}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex gap-2\">\r\n                    <Button size=\"sm\" variant=\"outline\" className=\"text-red-600\" onClick={() => handleProcess(apt.id, 'rejected')}>\r\n                      <XCircle className=\"w-4 h-4 mr-1\" /> ÊãíÁªù\r\n                    </Button>\r\n                    <Button size=\"sm\" className=\"bg-[#5D9C59]\" onClick={() => handleProcess(apt.id, 'confirmed')}>\r\n                      <CheckCircle className=\"w-4 h-4 mr-1\" /> ÂÆ°Êâπ\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA,iBAAiB;AACjB;AAAA;AATA;;;;;;;;;AAWe,SAAS;IACtB,MAAM,EAAE,WAAW,EAAE,GAAG,IAAA,2HAAW;IACnC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAE1D,MAAM,WAAW;QACf,IAAI,aAAa,IAAI;YACnB,IAAA,8JAAe,EAAC,YAAY,EAAE,EAAE,aAAa,IAAI,CAAC,CAAA;gBAChD,kBAAkB;gBAClB,gBAAgB,KAAK,MAAM,CAAC,CAAC,IAAW,EAAE,MAAM,KAAK;YACvD;QACF;IACF;IAEA,IAAA,kNAAS,EAAC;QACR;IACF,GAAG;QAAC;KAAY;IAEhB,MAAM,gBAAgB,OAAO,IAAY;QACvC,MAAM,IAAA,sKAAuB,EAAC,IAAI;QAClC,iJAAK,CAAC,OAAO,CAAC,WAAW,cAAc,QAAQ;QAC/C,YAAY,OAAO;IACrB;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAqB;;;;;;0BAEnC,8OAAC,iIAAI;;kCACH,8OAAC,uIAAU;kCAAC,cAAA,8OAAC,sIAAS;;gCAAC;gCAAQ,aAAa,MAAM;gCAAC;;;;;;;;;;;;kCACnD,8OAAC,wIAAW;kCACV,cAAA,8OAAC;4BAAI,WAAU;sCACZ,aAAa,MAAM,KAAK,kBACvB,8OAAC;gCAAI,WAAU;0CAAkC;;;;;uCAEjD,aAAa,GAAG,CAAC,CAAC,oBAChB,8OAAC;oCAAiB,WAAU;;sDAC1B,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;8DACb,cAAA,8OAAC,0MAAI;wDAAC,WAAU;;;;;;;;;;;8DAElB,8OAAC;;sEACC,8OAAC;4DAAI,WAAU;sEAAa,IAAI,OAAO,CAAC,IAAI;;;;;;sEAC5C,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;;sFAAK,8OAAC,sNAAQ;4EAAC,WAAU;;;;;;wEAAkB;wEAAE,IAAI,KAAK,IAAI,IAAI,EAAE,kBAAkB;;;;;;;8EACnF,8OAAC;8EAAM,IAAI,IAAI;;;;;;;;;;;;;;;;;;;;;;;;sDAIrB,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,qIAAM;oDAAC,MAAK;oDAAK,SAAQ;oDAAU,WAAU;oDAAe,SAAS,IAAM,cAAc,IAAI,EAAE,EAAE;;sEAChG,8OAAC,uNAAO;4DAAC,WAAU;;;;;;wDAAiB;;;;;;;8DAEtC,8OAAC,qIAAM;oDAAC,MAAK;oDAAK,WAAU;oDAAe,SAAS,IAAM,cAAc,IAAI,EAAE,EAAE;;sEAC9E,8OAAC,0OAAW;4DAAC,WAAU;;;;;;wDAAiB;;;;;;;;;;;;;;mCAlBpC,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BhC"}},
    {"offset": {"line": 373, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/circle-check-big.js","sources":["file:///D:/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%AE%9E%E9%AA%8C/my-counseling-app/node_modules/lucide-react/src/icons/circle-check-big.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M21.801 10A10 10 0 1 1 17 3.335', key: 'yps3ct' }],\n  ['path', { d: 'm9 11 3 3L22 4', key: '1pflzl' }],\n];\n\n/**\n * @component @name CircleCheckBig\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEuODAxIDEwQTEwIDEwIDAgMSAxIDE3IDMuMzM1IiAvPgogIDxwYXRoIGQ9Im05IDExIDMgM0wyMiA0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-check-big\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleCheckBig = createLucideIcon('circle-check-big', __iconNode);\n\nexport default CircleCheckBig;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAmC,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IAChE;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAkB,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;CACjD;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,cAAA,CAAA,CAAA,KAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,8JAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAoB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA"}},
    {"offset": {"line": 418, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/circle-x.js","sources":["file:///D:/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%AE%9E%E9%AA%8C/my-counseling-app/node_modules/lucide-react/src/icons/circle-x.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm15 9-6 6', key: '1uzhvr' }],\n  ['path', { d: 'm9 9 6 6', key: 'z0biqf' }],\n];\n\n/**\n * @component @name CircleX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtMTUgOS02IDYiIC8+CiAgPHBhdGggZD0ibTkgOSA2IDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleX = createLucideIcon('circle-x', __iconNode);\n\nexport default CircleX;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QAAC,QAAA,CAAA;QAAU,CAAA;YAAE,EAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAI,IAAA,CAAA;YAAM,CAAA,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,GAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IACzD;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAa,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IAC1C;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAY,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;CAC3C;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,OAAA,CAAA,CAAA,KAAU,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,8JAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA"}},
    {"offset": {"line": 472, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/user.js","sources":["file:///D:/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%AE%9E%E9%AA%8C/my-counseling-app/node_modules/lucide-react/src/icons/user.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2', key: '975kel' }],\n  ['circle', { cx: '12', cy: '7', r: '4', key: '17ys0d' }],\n];\n\n/**\n * @component @name User\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjF2LTJhNCA0IDAgMCAwLTQtNEg5YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst User = createLucideIcon('user', __iconNode);\n\nexport default User;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAA6C,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IAC1E;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAU;YAAE,CAAA,CAAA,CAAA,CAAI,IAAA,CAAA;YAAM,CAAA,CAAA,EAAI,CAAA,CAAA,CAAA,CAAA;YAAK,CAAA,CAAA,CAAG,CAAA,CAAA,CAAA;YAAK,CAAA,CAAA,CAAA,CAAA,CAAK,QAAA;QAAA,CAAU;KAAA;CACzD;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,IAAA,CAAA,CAAA,KAAO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,8JAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAQ,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA"}},
    {"offset": {"line": 519, "column": 0}, "map": {"version":3,"sources":["file:///D:/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%AE%9E%E9%AA%8C/my-counseling-app/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { createServerReference } from 'react-server-dom-webpack/client'\n"],"names":["callServer","createServerReference","findSourceMapURL"],"mappings":"AAAA,gFAAgF;AAChF,0BAA0B;;;;;;;;;;;;;;;;IAEjBA,UAAU,EAAA;eAAVA,eAAAA,UAAU;;IAMVC,qBAAqB,EAAA;eAArBA,QAAAA,qBAAqB;;IALrBC,gBAAgB,EAAA;eAAhBA,qBAAAA,gBAAgB;;;+BADE;qCACM;wBAKK","ignoreList":[0]}}]
}